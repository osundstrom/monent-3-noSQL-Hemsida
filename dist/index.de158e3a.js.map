{"mappings":"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","sources":["src/main.js"],"sourcesContent":["\"use strict\"\r\n\r\n//------------------------------GET allt (FETCH)---------------------------------//\r\n\r\nlet url = \"https://moment-3-nosql.onrender.com/workexperiences\"; //skapare url\r\n\r\n\r\n//let url = \"localhost:3000/workexperiences\"\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function() { //När sidan laddats in körs\r\n  console.log(\"körs get all\")\r\n    getAll();\r\n});\r\n\r\nasync function getAll() {\r\n    const response = await fetch(url, { //skickat fetch mot url\r\n        method: \"GET\", //GET förfrågan\r\n        headers: {\r\n          \"Content-Type\": \"application/json\", //JSON fromat\r\n        },\r\n    \r\n      })\r\n      \r\n      const data = await response.json(); //Väntar på json\r\n      //console.log(data);\r\n\r\n\r\n      const allCompanysDiv = document.getElementById(\"allCompanys\"); //väljer div\r\n\r\n      allCompanysDiv.innerHTML = \"\"; //rensar så dne är tom\r\n\r\n      data.forEach(company => { //kollar varje \r\n        console.log(company)\r\n        const companyUL = document.createElement(\"ul\");//skapar ul\r\n        \r\n        /*\r\n        const idLI = document.createElement(\"li\"); //Skapar li\r\n        idLI.textContent = \"ID: \" + company._id;\r\n        console.log(company._id)\r\n        companyUL.appendChild(idLI); //lägger till i UL\r\n        */\r\n        const companynameLI = document.createElement(\"li\"); //Skapar li\r\n        companynameLI.textContent = \"Företag: \" + company.companyname; //sätter texten\r\n        companyUL.appendChild(companynameLI); //lägger till i UL\r\n        \r\n        const jobtitleLi = document.createElement(\"li\"); //Skapar li\r\n        jobtitleLi.textContent = \"Roll: \" + company.jobtitle;\r\n        companyUL.appendChild(jobtitleLi); //lägger till i UL\r\n        \r\n        const locationLI = document.createElement(\"li\"); //Skapar li\r\n        locationLI.textContent = \"Plats: \" + company.location;\r\n        companyUL.appendChild(locationLI); //lägger till i UL\r\n        \r\n        const startDate = new Date(company.startdate).toLocaleDateString(); //Gör om så datum får rätt format\r\n        const endDate = new Date(company.enddate).toLocaleDateString(); //Gör om så datum får rätt format\r\n\r\n\r\n\r\n        const startdateLI = document.createElement(\"li\"); //Skapar li\r\n        startdateLI.textContent = \"Startdatum: \" + startDate;\r\n        companyUL.appendChild(startdateLI); //lägger till i UL\r\n        \r\n        const enddateLI = document.createElement(\"li\"); //Skapar li\r\n        enddateLI.textContent = \"Slutdatum: \" + endDate;\r\n        companyUL.appendChild(enddateLI); //lägger till i UL\r\n\r\n\r\n       \r\n        const deleteButton = document.createElement(\"button\"); //Skapar knapp\r\n        deleteButton.textContent = \"Radera\"; //sätter texten\r\n        deleteButton.addEventListener(\"click\", async function() { //vid klick kalla funktion deleteData med id\r\n          console.log(\"cliekd button\")\r\n          await deleteData(company._id);\r\n          \r\n          companyUL.remove(); //tar bort UL elemntet\r\n            \r\n        });\r\n\r\n        companyUL.appendChild(deleteButton); //lägger till i UL\r\n        \r\n        \r\n        allCompanysDiv.appendChild(companyUL); //lägger till i Div\r\n    });\r\n    }\r\n\r\n\r\n//createData(\"MIUN\", \"Student\", \"Sundsvall\", \"2023-08-01\", \"2025-06-01\"); //Kallar funktion med parametrar som behövs\r\n \r\n\r\n//------------------------------POST (FETCH)---------------------------------//\r\n//------------------------------POST (FETCH)---------------------------------//\r\n//------------------------------POST (FETCH)---------------------------------//\r\n\r\nlet addButton = document.getElementById(\"addButton\"); //Väljer knmappne\r\n \r\nlet form = document.getElementById(\"form\"); //Väljer form\r\n\r\n\r\naddButton.addEventListener(\"click\", async function(e) {//Vid klick\r\n  \r\n  e.preventDefault(); //hindrar defualt\r\n\r\n  let companynameInput = document.getElementById(\"companynameID\");  //Väljer element (input)\r\n  let jobtitleInput =  document.getElementById(\"jobtitleID\"); //Väljer element (input)\r\n  let locationInput = document.getElementById(\"locationID\"); //Väljer element (input)\r\n  let startdateInput = document.getElementById(\"startdateID\"); //Väljer element (input)\r\n  let enddateInput = document.getElementById(\"enddateID\"); //Väljer element (input)\r\n\r\n  let errorDiv = document.getElementById(\"messageErr\"); //Gör en div för error\r\n\r\n  if(!companynameInput.value || !jobtitleInput.value || !locationInput.value || !startdateInput.value || !enddateInput.value) { //inget får vara tomt\r\n    console.log(\"fyll i all data\"); //i konsoll\r\n    errorDiv.textContent = \"Fyll i samtliga fält\"; //till div \r\n    errorDiv.style.display = \"block\"; //Så man sr div\r\n    \r\n  }else {\r\n  \r\n  await createData(companynameInput.value, jobtitleInput.value, locationInput.value, startdateInput.value, enddateInput.value); //skickar in i funktionen\r\n  window.location.reload(); //laddar om\r\n}});\r\n\r\n\r\n\r\n\r\n//funktion för att skapa nytt (POST)\r\nasync function createData(companyname, jobtitle, location, startdate, enddate) {\r\n\r\n  //skapar objektet company som sätts efter de inmatade paramertrarna\r\n  let company = {\r\n    companyname: companyname, \r\n    jobtitle: jobtitle,\r\n    location: location,\r\n    startdate: startdate,\r\n    enddate: enddate\r\n  }\r\n  \r\n  const response = await fetch(url, { //skickat fetch mot url\r\n    method: \"POST\", //POST förfrågan\r\n    headers: {\r\n      \"Content-Type\": \"application/json\", //JSON fromat\r\n    },\r\n\r\n    body: JSON.stringify(company) //Gör om company till json\r\n  })\r\n  const data = await response.json(); //Väntar på json\r\n};\r\n\r\n//------------------------------DELETE (FETCH)---------------------------------//\r\n\r\n//deleteData(id);//kallar funktion med id\r\n\r\n  async function deleteData(id) { //Funtktion för att radera\r\n    \r\n    const response = await fetch(`${url}${id}`, { //fetch url med _id (heter_id här)\r\n      method: \"DELETE\", //delete förfrågan\r\n    })\r\n    const data = await response.json();//Väntar till json\r\n    console.log(data)\r\n  }\r\n\r\n\r\n"],"names":[],"version":3,"file":"index.de158e3a.js.map","sourceRoot":"/__parcel_source_root/"}